<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Ascent - Startup Card Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
            color: #e0e7ff;
            min-height: 100vh;
            margin: 0;
            padding: 1rem;
        }
        .game-board {
            max-width: 1400px;
            margin: 0 auto;
        }
        .resources {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .resource {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 1rem;
            padding: 1rem;
            text-align: center;
        }
        .resource-name {
            font-size: 0.8rem;
            color: #a5b4fc;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .resource-value {
            font-size: 2rem;
            font-weight: 900;
            margin: 0.5rem 0;
        }
        .resource-bar {
            width: 100%;
            height: 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            overflow: hidden;
        }
        .resource-fill {
            height: 100%;
            transition: width 0.5s ease;
        }
        .card {
            background: linear-gradient(135deg, #312e81 0%, #1e1b4b 100%);
            border: 2px solid #6366f1;
            border-radius: 1rem;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-height: 200px;
            display: flex;
            flex-direction: column;
        }
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 40px rgba(99, 102, 241, 0.4);
            border-color: #818cf8;
        }
        .card.selected {
            border-color: #fbbf24;
            background: linear-gradient(135deg, #451a03 0%, #78350f 100%);
        }
        .card-energy {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            width: 2.5rem;
            height: 2.5rem;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            color: #000;
            font-size: 1.2rem;
        }
        .card-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #818cf8;
            margin-bottom: 0.75rem;
        }
        .card-description {
            font-size: 0.9rem;
            color: #c7d2fe;
            line-height: 1.5;
            flex-grow: 1;
        }
        .card-effects {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(139, 92, 246, 0.3);
            font-size: 0.85rem;
        }
        .effect {
            margin: 0.25rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .effect-positive { color: #4ade80; }
        .effect-negative { color: #f87171; }
        .effect-neutral { color: #fbbf24; }
        .hand {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .event-card {
            background: linear-gradient(135deg, #7c2d12 0%, #991b1b 100%);
            border: 3px solid #dc2626;
            border-radius: 1.5rem;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        .event-title {
            font-size: 1.8rem;
            font-weight: 900;
            color: #fecaca;
            margin-bottom: 1rem;
        }
        .event-description {
            font-size: 1.1rem;
            color: #fecaca;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }
        .event-threat {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 0.5rem;
            padding: 1rem;
            font-size: 1rem;
            font-weight: 700;
        }
        .btn {
            background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(99, 102, 241, 0.4);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .btn-danger {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
        }
        .btn-success {
            background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
        }
        .path-choice {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 2rem 0;
        }
        .path-card {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 1rem;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        .path-card:hover {
            border-color: #818cf8;
            transform: scale(1.05);
        }
        .path-icon {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }
        .path-title {
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        .path-description {
            font-size: 0.9rem;
            color: #a5b4fc;
        }
        .log {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 0.75rem;
            padding: 1rem;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 2rem;
        }
        .log-entry {
            padding: 0.5rem;
            margin-bottom: 0.5rem;
            border-left: 3px solid #6366f1;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 0.25rem;
            font-size: 0.9rem;
        }
        .log-entry.success { border-left-color: #4ade80; }
        .log-entry.warning { border-left-color: #fbbf24; }
        .log-entry.error { border-left-color: #ef4444; }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal-content {
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);
            border: 3px solid #6366f1;
            border-radius: 1.5rem;
            padding: 2rem;
            max-width: 600px;
            text-align: center;
        }
        @media (max-width: 768px) {
            .resources {
                grid-template-columns: repeat(2, 1fr);
            }
            .hand {
                grid-template-columns: 1fr;
            }
            .path-choice {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="game-board">
        <h1 style="text-align: center; font-size: 2.5rem; font-weight: 900; margin-bottom: 1rem; color: #818cf8;">
            ‚ö° STRATEGIC ASCENT ‚ö°
        </h1>
        <p style="text-align: center; color: #a5b4fc; margin-bottom: 2rem;">
            Quarter <span id="quarter">1</span> | Energy: <span id="energy" style="color: #fbbf24; font-weight: 700;">3</span>
        </p>

        <div class="resources">
            <div class="resource">
                <div class="resource-name">üí∞ Cash</div>
                <div class="resource-value" id="cash">$2.0M</div>
                <div class="resource-bar">
                    <div class="resource-fill" id="cashBar" style="width: 50%; background: linear-gradient(90deg, #fbbf24, #f59e0b);"></div>
                </div>
            </div>
            <div class="resource">
                <div class="resource-name">üòä Morale</div>
                <div class="resource-value" id="morale">70%</div>
                <div class="resource-bar">
                    <div class="resource-fill" id="moraleBar" style="width: 70%; background: linear-gradient(90deg, #4ade80, #22c55e);"></div>
                </div>
            </div>
            <div class="resource">
                <div class="resource-name">‚≠ê Reputation</div>
                <div class="resource-value" id="reputation">40%</div>
                <div class="resource-bar">
                    <div class="resource-fill" id="reputationBar" style="width: 40%; background: linear-gradient(90deg, #818cf8, #6366f1);"></div>
                </div>
            </div>
            <div class="resource">
                <div class="resource-name">üì¶ Product</div>
                <div class="resource-value" id="product">25%</div>
                <div class="resource-bar">
                    <div class="resource-fill" id="productBar" style="width: 25%; background: linear-gradient(90deg, #a855f7, #9333ea);"></div>
                </div>
            </div>
        </div>

        <div id="gameContent"></div>

        <div class="log" id="log"></div>
    </div>

    <script>
        const gameState = {
            quarter: 1,
            energy: 3,
            maxEnergy: 3,
            cash: 2000000,
            maxCash: 4000000,
            morale: 70,
            reputation: 40,
            product: 25,
            hand: [],
            deck: [],
            discardPile: [],
            phase: 'draw',
            selectedCards: [],
            currentEvent: null
        };

        const cardLibrary = {
            hireEngineers: {
                id: 'hireEngineers',
                name: 'Hire Engineers',
                energy: 2,
                description: 'Bring on talented engineers to accelerate development',
                effects: {
                    cash: -200000,
                    product: 15,
                    morale: 5
                }
            },
            raiseFunding: {
                id: 'raiseFunding',
                name: 'Raise Funding',
                energy: 1,
                description: 'Secure investor capital to extend runway',
                effects: {
                    cash: 1000000,
                    reputation: 10
                }
            },
            focusDevelopment: {
                id: 'focusDevelopment',
                name: 'Focus Development',
                energy: 1,
                description: 'All hands on deck for product sprint',
                effects: {
                    product: 20,
                    morale: -5
                }
            },
            marketingPush: {
                id: 'marketingPush',
                name: 'Marketing Push',
                energy: 1,
                description: 'Launch campaign to build brand awareness',
                effects: {
                    cash: -150000,
                    reputation: 15
                }
            },
            teamBuilding: {
                id: 'teamBuilding',
                name: 'Team Building',
                energy: 1,
                description: 'Invest in culture and morale',
                effects: {
                    cash: -100000,
                    morale: 20
                }
            },
            cutCosts: {
                id: 'cutCosts',
                name: 'Cut Costs',
                energy: 1,
                description: 'Tighten belts to preserve runway',
                effects: {
                    cash: 200000,
                    morale: -15
                }
            },
            dodOutreach: {
                id: 'dodOutreach',
                name: 'DoD Outreach',
                energy: 2,
                description: 'Build relationships with defense buyers',
                effects: {
                    cash: -100000,
                    reputation: 12,
                    product: 5
                }
            },
            quickWin: {
                id: 'quickWin',
                name: 'Quick Win',
                energy: 1,
                description: 'Ship MVP fast to validate',
                effects: {
                    product: 12,
                    reputation: 8
                }
            }
        };

        const events = [
            {
                title: 'üè¢ Competitor Launches',
                description: 'A well-funded competitor just announced their product. Market pressure intensifies.',
                threat: 15,
                successText: 'You weathered the storm. Differentiation matters.',
                failText: 'Lost market position to competitor. Reputation damaged.'
            },
            {
                title: 'üíº Investor Meeting',
                description: 'Board wants to see progress. Show them results or face tough questions.',
                threat: 20,
                successText: 'Impressed the board. Confidence is high.',
                failText: 'Disappointing update. Board losing confidence.'
            },
            {
                title: 'üë®‚Äçüíº Key Employee Recruited',
                description: 'Top talent from Big Tech is interested. But they are expensive.',
                threat: 12,
                successText: 'Hired rockstar engineer. Team capability soars.',
                failText: 'Missed opportunity. Went to competitor instead.'
            },
            {
                title: 'üìã DoD RFP Released',
                description: 'Perfect contract opportunity, but you need strong tech and reputation to win.',
                threat: 18,
                successText: 'Won the contract! Major revenue and validation.',
                failText: 'Bid rejected. Not ready for prime time.'
            },
            {
                title: '‚ö° Tech Breakthrough Needed',
                description: 'Product is stuck. Need innovation to move forward.',
                threat: 15,
                successText: 'Breakthrough achieved! Product quality jumps.',
                failText: 'Still stuck on technical challenges.'
            }
        ];

        function initDeck() {
            gameState.deck = [
                'hireEngineers', 'raiseFunding', 'focusDevelopment', 
                'marketingPush', 'teamBuilding', 'cutCosts',
                'dodOutreach', 'quickWin', 'focusDevelopment', 'marketingPush'
            ];
            shuffleDeck();
        }

        function shuffleDeck() {
            for (let i = gameState.deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [gameState.deck[i], gameState.deck[j]] = [gameState.deck[j], gameState.deck[i]];
            }
        }

        function drawHand() {
            gameState.hand = [];
            for (let i = 0; i < 5 && gameState.deck.length > 0; i++) {
                gameState.hand.push(gameState.deck.pop());
            }
            if (gameState.deck.length === 0) {
                gameState.deck = [...gameState.discardPile];
                gameState.discardPile = [];
                shuffleDeck();
            }
        }

        function log(message, type) {
            type = type || 'info';
            const logEl = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = 'log-entry ' + type;
            entry.textContent = 'Q' + gameState.quarter + ': ' + message;
            logEl.insertBefore(entry, logEl.firstChild);
            if (logEl.children.length > 10) {
                logEl.removeChild(logEl.lastChild);
            }
        }

        function updateDisplay() {
            document.getElementById('quarter').textContent = gameState.quarter;
            document.getElementById('energy').textContent = gameState.energy;
            
            document.getElementById('cash').textContent = '$' + (gameState.cash / 1000000).toFixed(1) + 'M';
            document.getElementById('cashBar').style.width = Math.min(100, (gameState.cash / gameState.maxCash) * 100) + '%';
            
            document.getElementById('morale').textContent = gameState.morale + '%';
            document.getElementById('moraleBar').style.width = gameState.morale + '%';
            
            document.getElementById('reputation').textContent = gameState.reputation + '%';
            document.getElementById('reputationBar').style.width = gameState.reputation + '%';
            
            document.getElementById('product').textContent = gameState.product + '%';
            document.getElementById('productBar').style.width = gameState.product + '%';
        }

        function renderHand() {
            const content = document.getElementById('gameContent');
            
            let html = '<h2 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: #a5b4fc;">Your Hand - Select cards to play</h2>';
            html += '<div class="hand">';
            
            gameState.hand.forEach(function(cardId) {
                const card = cardLibrary[cardId];
                const selected = gameState.selectedCards.includes(cardId);
                const canAfford = gameState.energy >= card.energy;
                
                html += '<div class="card ' + (selected ? 'selected' : '') + '" onclick="toggleCard(\'' + cardId + '\')" style="' + (!canAfford ? 'opacity: 0.5;' : '') + '">';
                html += '<div class="card-energy">' + card.energy + '</div>';
                html += '<div class="card-title">' + card.name + '</div>';
                html += '<div class="card-description">' + card.description + '</div>';
                html += '<div class="card-effects">';
                
                if (card.effects.cash) {
                    const sign = card.effects.cash > 0 ? '+' : '';
                    const className = card.effects.cash > 0 ? 'effect-positive' : 'effect-negative';
                    html += '<div class="effect ' + className + '">üí∞ ' + sign + '$' + (card.effects.cash / 1000) + 'K</div>';
                }
                if (card.effects.morale) {
                    const sign = card.effects.morale > 0 ? '+' : '';
                    const className = card.effects.morale > 0 ? 'effect-positive' : 'effect-negative';
                    html += '<div class="effect ' + className + '">üòä ' + sign + card.effects.morale + '%</div>';
                }
                if (card.effects.reputation) {
                    const sign = card.effects.reputation > 0 ? '+' : '';
                    const className = card.effects.reputation > 0 ? 'effect-positive' : 'effect-negative';
                    html += '<div class="effect ' + className + '">‚≠ê ' + sign + card.effects.reputation + '%</div>';
                }
                if (card.effects.product) {
                    const sign = card.effects.product > 0 ? '+' : '';
                    const className = card.effects.product > 0 ? 'effect-positive' : 'effect-negative';
                    html += '<div class="effect ' + className + '">üì¶ ' + sign + card.effects.product + '%</div>';
                }
                
                html += '</div></div>';
            });
            
            html += '</div>';
            html += '<div style="text-align: center; margin-top: 2rem;">';
            html += '<button class="btn" onclick="skipCombat()">Skip Combat (No Reward)</button> ';
            html += '<button class="btn btn-danger" onclick="endTurn()" style="margin-left: 1rem;">End Turn</button>';
            html += '</div>';
            
            content.innerHTML = html;
        }

        function renderEvent() {
            const event = gameState.currentEvent;
            const content = document.getElementById('gameContent');
            
            let html = '<div class="event-card">';
            html += '<div class="event-title">' + event.title + '</div>';
            html += '<div class="event-description">' + event.description + '</div>';
            html += '<div class="event-threat">Threat Level: ' + event.threat + ' - Play cards totaling ' + event.threat + '+ value to succeed</div>';
            html += '</div>';
            
            html += '<h2 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: #a5b4fc;">Select cards to combat this event</h2>';
            html += '<div class="hand">';
            
            gameState.hand.forEach(function(cardId) {
                const card = cardLibrary[cardId];
                const selected = gameState.selectedCards.includes(cardId);
                const canAfford = gameState.energy >= card.energy;
                
                html += '<div class="card ' + (selected ? 'selected' : '') + '" onclick="toggleCard(\'' + cardId + '\')" style="' + (!canAfford ? 'opacity: 0.5;' : '') + '">';
                html += '<div class="card-energy">' + card.energy + '</div>';
                html += '<div class="card-title">' + card.name + '</div>';
                html += '<div class="card-description">' + card.description + '</div>';
                html += '</div>';
            });
            
            html += '</div>';
            html += '<div style="text-align: center; margin-top: 2rem;">';
            html += '<button class="btn btn-success" onclick="resolveCombat()">Play Selected Cards</button>';
            html += '</div>';
            
            content.innerHTML = html;
        }

        function renderPathChoice() {
            const content = document.getElementById('gameContent');
            
            let html = '<h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 1rem; text-align: center; color: #818cf8;">Choose Your Path Forward</h2>';
            html += '<div class="path-choice">';
            
            html += '<div class="path-card" onclick="choosePath(\'safe\')">';
            html += '<div class="path-icon">üõ°Ô∏è</div>';
            html += '<div class="path-title">Safe Route</div>';
            html += '<div class="path-description">No events, gain +$200K cash</div>';
            html += '</div>';
            
            html += '<div class="path-card" onclick="choosePath(\'event\')">';
            html += '<div class="path-icon">‚öîÔ∏è</div>';
            html += '<div class="path-title">Challenge</div>';
            html += '<div class="path-description">Face event, high reward on success</div>';
            html += '</div>';
            
            html += '<div class="path-card" onclick="choosePath(\'reward\')">';
            html += '<div class="path-icon">üéÅ</div>';
            html += '<div class="path-title">Opportunity</div>';
            html += '<div class="path-description">Add powerful card to deck</div>';
            html += '</div>';
            
            html += '</div>';
            
            content.innerHTML = html;
        }

        function toggleCard(cardId) {
            const card = cardLibrary[cardId];
            const index = gameState.selectedCards.indexOf(cardId);
            
            if (index > -1) {
                gameState.selectedCards.splice(index, 1);
            } else {
                if (gameState.energy >= card.energy) {
                    gameState.selectedCards.push(cardId);
                }
            }
            
            if (gameState.phase === 'event') {
                renderEvent();
            } else {
                renderHand();
            }
        }

        function skipCombat() {
            log('Skipped event. No rewards gained.', 'info');
            gameState.phase = 'path';
            renderPathChoice();
        }

        function resolveCombat() {
            let totalPower = 0;
            let totalEnergyCost = 0;
            
            gameState.selectedCards.forEach(function(cardId) {
                const card = cardLibrary[cardId];
                totalEnergyCost += card.energy;
                
                Object.keys(card.effects).forEach(function(key) {
                    const value = Math.abs(card.effects[key]);
                    totalPower += value;
                });
            });
            
            if (totalEnergyCost > gameState.energy) {
                log('Not enough energy!', 'error');
                return;
            }
            
            gameState.energy -= totalEnergyCost;
            
            const success = totalPower >= gameState.currentEvent.threat;
            
            if (success) {
                log(gameState.currentEvent.successText, 'success');
                gameState.cash += 500000;
                gameState.reputation = Math.min(100, gameState.reputation + 10);
            } else {
                log(gameState.currentEvent.failText, 'error');
                gameState.morale = Math.max(0, gameState.morale - 10);
            }
            
            gameState.selectedCards.forEach(function(cardId) {
                const index = gameState.hand.indexOf(cardId);
                if (index > -1) {
                    gameState.hand.splice(index, 1);
                    gameState.discardPile.push(cardId);
                }
            });
            gameState.selectedCards = [];
            
            updateDisplay();
            gameState.phase = 'path';
            renderPathChoice();
        }

        function choosePath(path) {
            if (path === 'safe') {
                gameState.cash += 200000;
                log('Took safe route. +$200K cash.', 'success');
            } else if (path === 'event') {
                gameState.currentEvent = events[Math.floor(Math.random() * events.length)];
                gameState.phase = 'event';
                log('Facing: ' + gameState.currentEvent.title, 'warning');
                updateDisplay();
                renderEvent();
                return;
            } else if (path === 'reward') {
                const newCard = ['hireEngineers', 'raiseFunding', 'dodOutreach'][Math.floor(Math.random() * 3)];
                gameState.deck.push(newCard);
                log('Added ' + cardLibrary[newCard].name + ' to deck!', 'success');
            }
            
            endTurn();
        }

        function endTurn() {
            gameState.hand.forEach(function(cardId) {
                gameState.discardPile.push(cardId);
            });
            gameState.hand = [];
            gameState.selectedCards = [];
            
            gameState.quarter++;
            gameState.energy = gameState.maxEnergy;
            
            gameState.morale = Math.max(0, gameState.morale - 3);
            gameState.product = Math.min(100, gameState.product + 5);
            
            if (gameState.cash < 0) {
                showGameOver('Out of cash! Company failed.');
                return;
            }
            if (gameState.morale <= 0) {
                showGameOver('Team morale collapsed! Everyone quit.');
                return;
            }
            if (gameState.product >= 100) {
                showGameOver('Product launched! You reached $' + (gameState.cash / 1000000).toFixed(1) + 'M. Victory!');
                return;
            }
            
            log('Quarter ' + gameState.quarter + ' begins.', 'info');
            updateDisplay();
            drawHand();
            renderHand();
        }

        function showGameOver(message) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.innerHTML = '<div class="modal-content">' +
                '<h2 style="font-size: 2rem; font-weight: 900; margin-bottom: 1rem;">Game Over</h2>' +
                '<p style="font-size: 1.2rem; margin-bottom: 2rem;">' + message + '</p>' +
                '<button class="btn" onclick="location.reload()">Play Again</button>' +
                '</div>';
            document.body.appendChild(modal);
        }

        document.addEventListener('DOMContentLoaded', function() {
            log('Strategic Ascent initialized. Build your startup!', 'success');
            initDeck();
            drawHand();
            updateDisplay();
            renderHand();
        });
    </script>
</body>
</html>
